{"title":"2-2、地图事件","uid":"4cbf822867389a20e6799524d32a02d9","slug":"GIS二次开发2-2、地图事件","date":"2022-12-07T15:25:04.215Z","updated":"2022-12-07T15:33:29.501Z","comments":true,"path":"api/articles/GIS二次开发2-2、地图事件.json","keywords":null,"cover":null,"content":"<p>通过事件获取坐标值</p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;\n    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;\n    &lt;title&gt;Document&lt;&#x2F;title&gt;\n    &lt;script src&#x3D;&quot;..&#x2F;..&#x2F;lib&#x2F;include-openlayers-local.js&quot;&gt;&lt;&#x2F;script&gt;\n    &lt;script src&#x3D;&quot;..&#x2F;..&#x2F;js&#x2F;Tian.js&quot;&gt;&lt;&#x2F;script&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n    &lt;div id&#x3D;&quot;map_container&quot;&gt;&lt;&#x2F;div&gt;\n    &lt;script&gt;\n        const map &#x3D; new ol.Map(&#123;\n            target:&quot;map_container&quot;,\n            layers:[TianDiMap_vec,TianDiMap_cva],\n            view:new ol.View(&#123;\n                center:[114,30],\n                projection:&#39;EPSG:4326&#39;,\n                zoom:4\n            &#125;)\n        &#125;)\n        map.on(&quot;singleclick&quot;,function(e)&#123;\n            console.log(e.coordinate)\n        &#125;)\n    &lt;&#x2F;script&gt;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>\n<p><a name=\"vmX73\"></a></p>\n<h3 id=\"地图事件的激活和移除\"><a href=\"#地图事件的激活和移除\" class=\"headerlink\" title=\"地图事件的激活和移除\"></a>地图事件的激活和移除</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&lt;body&gt;\n    &lt;button onclick&#x3D;&quot;active()&quot;&gt;激活地图事件&lt;&#x2F;button&gt;\n    &lt;button onclick&#x3D;&quot;remove()&quot;&gt;移除地图事件&lt;&#x2F;button&gt;\n    &lt;div id&#x3D;&quot;map_container&quot;&gt;\n    &lt;&#x2F;div&gt;\n&lt;script&gt;\n    var map &#x3D; new ol.Map(&#123;\n        target:&quot;map_container&quot;,\n        layers:[gaode],\n        view:new ol.View(&#123;\n            projection:&#39;EPSG:4326&#39;,\n            center:[114.30,30.50],\n            zoom:4\n        &#125;)\n    &#125;)\n    function active()&#123;\n        map.on(&quot;click&quot;,handleMap)\n    &#125;\n    function remove()&#123;\n        map.un(&quot;click&quot;,handleMap)\n    &#125;\n    function handleMap(e)&#123;\n        console.log(e.coordinate)\n    &#125;\n&lt;&#x2F;script&gt;</code></pre>","text":"通过事件获取坐标值 &lt;!DOCTYPE html&gt; &lt;html lang&#x3D;&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt; &lt;meta http...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"GIS二次开发","slug":"GIS二次开发","count":17,"path":"api/categories/GIS二次开发.json"}],"tags":[{"name":"D2 地图操作","slug":"D2-地图操作","count":4,"path":"api/tags/D2-地图操作.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9C%B0%E5%9B%BE%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%BF%80%E6%B4%BB%E5%92%8C%E7%A7%BB%E9%99%A4\"><span class=\"toc-text\">地图事件的激活和移除</span></a></li></ol>","author":{"name":"团子","slug":"blog-author","avatar":"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/QQ%E5%9B%BE%E7%89%8720221205215218.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"1-9、高德","uid":"43c8f20e1aa90e780e340dd6f9f8f7a2","slug":"GIS二次开发1-9、高德_new","date":"2022-12-07T15:26:29.368Z","updated":"2022-12-07T15:28:01.192Z","comments":true,"path":"api/articles/GIS二次开发1-9、高德_new.json","keywords":null,"cover":[],"text":" 1、地图显示 var gaodeMapLayer &#x3D; new ol.layer.Tile(&#123; title: &quot;高德地图&quot;, source: new ol.source.XYZ(&#123; url: &#39;http:&#x2F;&#x...","link":"","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[{"name":"GIS二次开发","slug":"GIS二次开发","count":17,"path":"api/categories/GIS二次开发.json"}],"tags":[{"name":"D1 地图显示","slug":"D1-地图显示","count":7,"path":"api/tags/D1-地图显示.json"}],"author":{"name":"团子","slug":"blog-author","avatar":"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/QQ%E5%9B%BE%E7%89%8720221205215218.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}}},"next_post":{"title":"1-7、天地图—矢量图层","uid":"2b4b198d457060441fa19e46564c2b9b","slug":"GIS二次开发1-7、天地图—矢量图层_new","date":"2022-12-07T15:21:11.300Z","updated":"2022-12-07T15:23:18.804Z","comments":true,"path":"api/articles/GIS二次开发1-7、天地图—矢量图层_new.json","keywords":null,"cover":[],"text":"http://develop.smaryun.com:81/API/JS/OL5InterfaceDemo/index.htm天地图是国家地理信息公开的地理数据，属于第三方地图。使用OpenLayer的接口对接，调用对应的接口获取数据。 8a5c2b00e94b49659861e...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"GIS二次开发","slug":"GIS二次开发","count":17,"path":"api/categories/GIS二次开发.json"}],"tags":[{"name":"D1 地图显示","slug":"D1-地图显示","count":7,"path":"api/tags/D1-地图显示.json"}],"author":{"name":"团子","slug":"blog-author","avatar":"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/QQ%E5%9B%BE%E7%89%8720221205215218.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}}}}