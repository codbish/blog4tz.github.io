{"title":"1-6、地图文档","uid":"927ed17fb2f149c40b38418c700d1a8d","slug":"GIS二次开发1-6、地图文档_new","date":"2022-12-07T15:14:17.643Z","updated":"2022-12-07T15:14:17.643Z","comments":true,"path":"api/articles/GIS二次开发1-6、地图文档_new.json","keywords":null,"cover":[],"content":"<p><a name=\"V5jmZ\"></a></p>\n<h3 id=\"一、MapGIS-创建地图文档\"><a href=\"#一、MapGIS-创建地图文档\" class=\"headerlink\" title=\"一、MapGIS 创建地图文档\"></a>一、MapGIS 创建地图文档</h3><p>地图文档类似一个项目，在地图文档中可以添加多个图层（二维平面地图）和场景（三维），以树状结构显示<br><a name=\"Lyyxu\"></a></p>\n<h4 id=\"1、创建GDB数据库\"><a href=\"#1、创建GDB数据库\" class=\"headerlink\" title=\"1、创建GDB数据库\"></a>1、创建GDB数据库</h4><p><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646788619756-f4893876-37d9-4663-a21a-1cb96ffb38b0.png\"><br /><br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646789425707-d52972b8-336a-4461-a738-66f5b0319ba0.png\" alt=\"01.png\"><br /><br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646789595227-0ca69087-c4dd-43b3-9b31-bf3464f18720.png\" alt=\"01.png\"><br /><br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646789690730-4822a58f-8d7e-4939-8eab-4de49e76e5d8.png\" alt=\"01.png\"><br /><br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646789735506-31ace503-827a-4553-9392-8211d2250c68.png\" alt=\"01.png\"><br /><br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646789777309-8492ee21-9763-4656-aa87-612d75c9ef33.png\"><br><a name=\"B8NPS\"></a></p>\n<h4 id=\"2、创建要素类\"><a href=\"#2、创建要素类\" class=\"headerlink\" title=\"2、创建要素类\"></a>2、创建要素类</h4><p><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646789898194-7f456d45-4f33-48de-b7fa-c32c1d510e73.png\" alt=\"01.png\"><br /><br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646789919633-9564b507-5ace-45b2-88f6-0e7d1761241b.png\"><br /><br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646789938587-93d95c16-ff15-47ef-bb56-7a0fa918f7e0.png\"></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>一定选择WGS84世界大地坐标系</p></blockquote>\n<p><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646789986091-1c083a72-6920-482d-9bc1-a71c7f42e569.png\"><br /><br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646790007965-977cdc69-12d4-4105-a0f4-5d3ac8439a41.png\"><br><a name=\"XWpFN\"></a></p>\n<h4 id=\"3、编辑图层\"><a href=\"#3、编辑图层\" class=\"headerlink\" title=\"3、编辑图层\"></a>3、编辑图层</h4><p>在地图下创建新的图层(直接将要素类拖到编辑区), 双击激活, 设置为当前编辑<br /><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646790076511-5e47df4b-6d6b-4dab-bfc0-f45cf95fff8d.png\"></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>之后点击点编辑,造子图<br>Tips:在经度30，纬度30左右添加一个点</p></blockquote>\n<p><a name=\"Pki6I\"></a></p>\n<h4 id=\"4、保存地图文档\"><a href=\"#4、保存地图文档\" class=\"headerlink\" title=\"4、保存地图文档\"></a>4、保存地图文档</h4><p>通过开始-&gt;另存为保存地图文档<br /><br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646790139779-8a2d896b-eee7-4b6f-a79f-2596ce61085e.png\"><br><a name=\"hntf4\"></a></p>\n<h3 id=\"二、Server-Manager-发布地图文档\"><a href=\"#二、Server-Manager-发布地图文档\" class=\"headerlink\" title=\"二、Server Manager 发布地图文档\"></a>二、Server Manager 发布地图文档</h3><p><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646790211878-f878b0b7-90a7-40aa-9587-f8b0f42f5ab7.png\" alt=\"image.png\"><br /><br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646790290005-9a872b45-a45a-4f9a-9ea7-0b4c069f99ab.png\" alt=\"image.png\"><br /><br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646790404300-a9a769a6-7083-4683-9b02-8555021107de.png\" alt=\"image.png\"><br><a name=\"pbf7N\"></a></p>\n<h3 id=\"三、web访问\"><a href=\"#三、web访问\" class=\"headerlink\" title=\"三、web访问\"></a>三、web访问</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">http:&#x2F;&#x2F;develop.smaryun.com:81&#x2F;API&#x2F;JS&#x2F;IGS%20JavaScript%20API%20v02&#x2F;index.htm#id_2</code></pre>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;\n    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;\n    &lt;title&gt;Document&lt;&#x2F;title&gt;\n    &lt;script src&#x3D;&quot;lib&#x2F;include-openlayers-local.js&quot;&gt;&lt;&#x2F;script&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n     &#x2F;&#x2F;1、创建地图容器\n    &lt;div id&#x3D;&quot;map_container&quot;&gt;\n\n    &lt;&#x2F;div&gt;\n    &lt;script&gt;\n       &#x2F;&#x2F;2、实例化地图文档图层\n        const docLayer &#x3D; new Zondy.Map.Doc(&#39;&#39;,&#39;doc&#39;,&#123;\n            host:&#39;localhost&#39;,\n            port:6163\n        &#125;)\n        &#x2F;&#x2F;3、实例化map对象\n        const map &#x3D; new ol.Map(&#123;\n            target:&#39;map_container&#39;,\n            layers:[docLayer],\n            view:new ol.View(&#123;\n                projection:&#39;EPSG:4326&#39;,\n                center:[0,0],\n                zoom:2\n            &#125;)\n        &#125;)\n    &lt;&#x2F;script&gt;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">1、创建地图容器\n2、实例化图层\n3、实例化地图对象(容器,图层,视图)</code></pre>\n<p><a name=\"hITWo\"></a></p>\n<h3 id=\"四、瓦片图-地图-矢量图-地图文档\"><a href=\"#四、瓦片图-地图-矢量图-地图文档\" class=\"headerlink\" title=\"四、瓦片图(地图)+矢量图(地图文档)\"></a>四、瓦片图(地图)+矢量图(地图文档)</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;\n    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;\n    &lt;title&gt;Document&lt;&#x2F;title&gt;\n    &lt;script src&#x3D;&quot;lib&#x2F;include-openlayers-local.js&quot;&gt;&lt;&#x2F;script&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n    &lt;!-- 1、创建容器装载地图 --&gt;\n    &lt;div id&#x3D;&quot;map_container&quot;&gt;\n\n    &lt;&#x2F;div&gt;\n    &lt;script&gt;\n        &#x2F;* 2、实例化瓦片图层,和地图文档图层 *&#x2F;\n        const tileLayer &#x3D; new Zondy.Map.TileLayer(&#39;&#39;,&#39;testworld&#39;,&#123;\n            host:&#39;localhost&#39;,\n            port:6163\n        &#125;)\n        const docLayer &#x3D; new Zondy.Map.Doc(&#39;&#39;,&#39;doc&#39;,&#123;\n            host:&#39;localhost&#39;,\n            port:6163\n        &#125;)\n        &#x2F;* 3、实例化地图  *&#x2F;\n        const map &#x3D; new ol.Map(&#123;\n            target:&#39;map_container&#39;,\n            layers:[tileLayer,docLayer],\n            view:new ol.View(&#123;\n                projection:&#39;EPSG:4326&#39;,\n                center:[0,0],\n                zoom:2\n            &#125;)\n        &#125;)\n    &lt;&#x2F;script&gt;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>\n","text":" 一、MapGIS 创建地图文档地图文档类似一个项目，在地图文档中可以添加多个图层（二维平面地图）和场景（三维），以树状结构显示 1、创建GDB数据库 2、创建要素类 一定选择WGS84世界大地坐标系 3、编辑图层在地图下创建新的图层(直接将要素类拖到编辑区), 双击激活, 设置...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"GIS二次开发","slug":"GIS二次开发","count":29,"path":"api/categories/GIS二次开发.json"}],"tags":[{"name":"D1 地图显示","slug":"D1-地图显示","count":7,"path":"api/tags/D1-地图显示.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81MapGIS-%E5%88%9B%E5%BB%BA%E5%9C%B0%E5%9B%BE%E6%96%87%E6%A1%A3\"><span class=\"toc-text\">一、MapGIS 创建地图文档</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1%E3%80%81%E5%88%9B%E5%BB%BAGDB%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">1、创建GDB数据库</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2%E3%80%81%E5%88%9B%E5%BB%BA%E8%A6%81%E7%B4%A0%E7%B1%BB\"><span class=\"toc-text\">2、创建要素类</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3%E3%80%81%E7%BC%96%E8%BE%91%E5%9B%BE%E5%B1%82\"><span class=\"toc-text\">3、编辑图层</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4%E3%80%81%E4%BF%9D%E5%AD%98%E5%9C%B0%E5%9B%BE%E6%96%87%E6%A1%A3\"><span class=\"toc-text\">4、保存地图文档</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81Server-Manager-%E5%8F%91%E5%B8%83%E5%9C%B0%E5%9B%BE%E6%96%87%E6%A1%A3\"><span class=\"toc-text\">二、Server Manager 发布地图文档</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81web%E8%AE%BF%E9%97%AE\"><span class=\"toc-text\">三、web访问</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81%E7%93%A6%E7%89%87%E5%9B%BE-%E5%9C%B0%E5%9B%BE-%E7%9F%A2%E9%87%8F%E5%9B%BE-%E5%9C%B0%E5%9B%BE%E6%96%87%E6%A1%A3\"><span class=\"toc-text\">四、瓦片图(地图)+矢量图(地图文档)</span></a></li></ol>","author":{"name":"团子","slug":"blog-author","avatar":"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/QQ%E5%9B%BE%E7%89%8720221205215218.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"1-7、天地图—矢量图层","uid":"2b4b198d457060441fa19e46564c2b9b","slug":"GIS二次开发1-7、天地图—矢量图层_new","date":"2022-12-07T15:21:11.300Z","updated":"2022-12-07T15:23:18.804Z","comments":true,"path":"api/articles/GIS二次开发1-7、天地图—矢量图层_new.json","keywords":null,"cover":[],"text":"http://develop.smaryun.com:81/API/JS/OL5InterfaceDemo/index.htm天地图是国家地理信息公开的地理数据，属于第三方地图。使用OpenLayer的接口对接，调用对应的接口获取数据。 8a5c2b00e94b49659861e...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"GIS二次开发","slug":"GIS二次开发","count":29,"path":"api/categories/GIS二次开发.json"}],"tags":[{"name":"D1 地图显示","slug":"D1-地图显示","count":7,"path":"api/tags/D1-地图显示.json"}],"author":{"name":"团子","slug":"blog-author","avatar":"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/QQ%E5%9B%BE%E7%89%8720221205215218.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}}},"next_post":{"title":"1-5、矢量图层","uid":"ed761b79467051193900487a24d864f2","slug":"GIS二次开发1-5、矢量图层_new","date":"2022-12-07T15:10:12.599Z","updated":"2022-12-07T15:10:12.599Z","comments":true,"path":"api/articles/GIS二次开发1-5、矢量图层_new.json","keywords":null,"cover":[],"text":"加载矢量图层不需要IGServer发布，可以直接通过URL地址加载。 一、通过MapGIS得到URL地址 二、调用接口http://develop.smaryun.com:81/API/JS/OL5InterfaceDemo/index.htm 三、加载矢量图&lt;!DOCTY...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"GIS二次开发","slug":"GIS二次开发","count":29,"path":"api/categories/GIS二次开发.json"}],"tags":[{"name":"D1 地图显示","slug":"D1-地图显示","count":7,"path":"api/tags/D1-地图显示.json"}],"author":{"name":"团子","slug":"blog-author","avatar":"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/QQ%E5%9B%BE%E7%89%8720221205215218.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}}}}