{"title":"1-10、控件","uid":"e4d7a356e1660864b237351db2da7431","slug":"GIS二次开发1-10、控件_new","date":"2022-12-07T15:29:41.360Z","updated":"2022-12-07T15:29:41.360Z","comments":true,"path":"api/articles/GIS二次开发1-10、控件_new.json","keywords":null,"cover":[],"content":"<p><a name=\"p652i\"></a><br><a name=\"m77sG\"></a></p>\n<h3 id=\"一、使用步骤\"><a href=\"#一、使用步骤\" class=\"headerlink\" title=\"一、使用步骤\"></a>一、使用步骤</h3><p>地图控件主要包括：</p>\n<ul>\n<li>导航（放大、缩小、复位）</li>\n<li>滚动条</li>\n<li>鼠标位置</li>\n<li>比例尺</li>\n<li>鹰眼<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">- 实例化控件对象\n- 调用方法加载到map对象中</code></pre>\n<a name=\"jFcJ1\"></a><h3 id=\"二、演示\"><a href=\"#二、演示\" class=\"headerlink\" title=\"二、演示\"></a>二、演示</h3><a name=\"fZhm9\"></a><h4 id=\"2-1-、添加导航控件\"><a href=\"#2-1-、添加导航控件\" class=\"headerlink\" title=\"2-1 、添加导航控件\"></a>2-1 、添加导航控件</h4><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1648089306290-88f86160-ba56-4d09-92c5-4ffa7b8c3f32.png\" alt=\"image.png\"><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&#x2F;&#x2F;TIAN.js\nconst key &#x3D; &#39;8a5c2b00e94b49659861e064c37f778d&#39;\n&#x2F;* 天地图矢量图层 *&#x2F;\nconst TianDiMap_vec &#x3D; new ol.layer.Tile(&#123;\n    title: &quot;天地图矢量图层&quot;,\n    source: new ol.source.XYZ(&#123;\n        url: &#39;http:&#x2F;&#x2F;t0.tianditu.com&#x2F;DataServer?T&#x3D;vec_w&amp;x&#x3D;&#123;x&#125;&amp;y&#x3D;&#123;y&#125;&amp;l&#x3D;&#123;z&#125;&amp;tk&#x3D;&#39; +\n            key,\n        wrapX: false\n    &#125;)\n&#125;)\n&#x2F;* 天地图注记图层 *&#x2F;\nconst TianDiMap_cva &#x3D; new ol.layer.Tile(&#123;\n    title: &quot;天地图矢量注记图层&quot;,\n    source: new ol.source.XYZ(&#123;\n        url: &#39;http:&#x2F;&#x2F;t0.tianditu.com&#x2F;DataServer?T&#x3D;cva_w&amp;x&#x3D;&#123;x&#125;&amp;y&#x3D;&#123;y&#125;&amp;l&#x3D;&#123;z&#125;&amp;tk&#x3D;&#39; +\n            key,\n        wrapX: false\n    &#125;)\n&#125;)\n&#x2F;* 天地图影像图层 *&#x2F;\nconst TianDiMap_img &#x3D; new ol.layer.Tile(&#123;\n    title: &quot;天地图影像图层&quot;,\n    source: new ol.source.XYZ(&#123;\n        url: &#39;http:&#x2F;&#x2F;t0.tianditu.com&#x2F;DataServer?T&#x3D;img_w&amp;x&#x3D;&#123;x&#125;&amp;y&#x3D;&#123;y&#125;&amp;l&#x3D;&#123;z&#125;&amp;tk&#x3D;&#39; +\n            key,\n        wrapX: false\n    &#125;)\n&#125;)\n&#x2F;* 天地图影像注记图层 *&#x2F;\nconst TianDiMap_cia &#x3D; new ol.layer.Tile(&#123;\n    title: &quot;天地图影像注记图层&quot;,\n    source: new ol.source.XYZ(&#123;\n        url: &#39;http:&#x2F;&#x2F;t0.tianditu.com&#x2F;DataServer?T&#x3D;cia_w&amp;x&#x3D;&#123;x&#125;&amp;y&#x3D;&#123;y&#125;&amp;l&#x3D;&#123;z&#125;&amp;tk&#x3D;&#39; +\n            key,\n        wrapX: false\n    &#125;)\n&#125;)</code></pre>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;\n    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;\n    &lt;title&gt;Document&lt;&#x2F;title&gt;\n    &lt;script src&#x3D;&quot;..&#x2F;lib&#x2F;include-openlayers-local.js&quot;&gt;&lt;&#x2F;script&gt;\n    &lt;script src&#x3D;&quot;..&#x2F;js&#x2F;TIAN.JS&quot;&gt;&lt;&#x2F;script&gt;\n&lt;&#x2F;head&gt;\n\n&lt;body&gt;\n    &lt;div id&#x3D;&quot;map_container&quot;&gt;&lt;&#x2F;div&gt;\n    &lt;script&gt;\n        &#x2F;* 一、渲染地图 *&#x2F;\n        const map &#x3D; new ol.Map(&#123;\n            target: &#39;map_container&#39;,\n            layers: [TianDiMap_vec, TianDiMap_cva],\n            view: new ol.View(&#123;\n                projection: &#39;EPSG:4326&#39;, &#x2F;&#x2F; 经纬度坐标系(默认是默卡托坐标系)\n                center: [110, 30],\n                zoom:4,\n            &#125;),\n        &#125;)\n\n        &#x2F;&#x2F; 地图控件\n        &#x2F;&#x2F; 1. 视图跳转控件\n        const ZoomToExtent &#x3D; new ol.control.ZoomToExtent(&#123;\n            extent: [110, 30, 160,30],\n        &#125;)\n        map.addControl(ZoomToExtent)\n    &lt;&#x2F;script&gt;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>\n<a name=\"goO8n\"></a><h4 id=\"2-2、添加zoomslider\"><a href=\"#2-2、添加zoomslider\" class=\"headerlink\" title=\"2-2、添加zoomslider\"></a>2-2、添加zoomslider</h4><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646876745111-ae46d6ad-cabf-4266-bd1e-608079a34182.png\" alt=\"image.png\"><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&lt;body&gt;\n    &lt;div id&#x3D;&quot;map_container&quot;&gt;&lt;&#x2F;div&gt;\n    &lt;script&gt;\n        &#x2F;* 一、渲染地图 *&#x2F;\n        const map &#x3D; new ol.Map(&#123;\n            target: &#39;map_container&#39;,\n            layers: [TianDiMap_vec, TianDiMap_cva],\n            view: new ol.View(&#123;\n                projection: &#39;EPSG:4326&#39;, &#x2F;&#x2F; 经纬度坐标系(默认是默卡托坐标系)\n                center: [110, 30],\n                zoom:4,\n            &#125;),\n        &#125;)\n\n        &#x2F;&#x2F; 地图控件\n        &#x2F;* 2. zoomslider *&#x2F;\n        &#x2F;* 实例化zoomslider *&#x2F;\n        const zoomslider &#x3D; new ol.control.ZoomSlider();\n        map.addControl(zoomslider)\n    &lt;&#x2F;script&gt;\n&lt;&#x2F;body&gt;</code></pre>\n<a name=\"Pfcd7\"></a><h4 id=\"2-3、鼠标显示坐标值\"><a href=\"#2-3、鼠标显示坐标值\" class=\"headerlink\" title=\"2-3、鼠标显示坐标值\"></a>2-3、鼠标显示坐标值</h4><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646878736935-e75f0390-f15a-4c93-bda2-0000b80b78b0.png\" alt=\"image.png\"><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&lt;body&gt;\n  &lt;div id&#x3D;&quot;map_container&quot;&gt;\n    &#x2F;&#x2F;放置控件在html中的位置\n        &lt;div id&#x3D;&quot;mouse-position&quot;&gt;\n        &lt;&#x2F;div&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;body&gt;\n&lt;script&gt;\n       const mousePositionControl &#x3D; new ol.control.MousePosition(&#123;\n            &#x2F;* 坐标格式 *&#x2F;\n            coordinateFormat:ol.coordinate.createStringXY(4),\n            projection:&#39;EPSG:4326&#39;,\n            &#x2F;* 坐标信息显示样式类名,默认是&#39;ol-mouse-position&#39; *&#x2F;\n            className:&#39;custom-mouse-position&#39;,\n            target:document.getElementById(&#39;mouse-position&#39;),\n            undefinedHTML:&#39;&amp;nbsp&#39;\n        &#125;)\n        map.addControl(mousePositionControl)   \n&lt;&#x2F;script&gt;</code></pre>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&lt;style&gt;\n  &#x2F;* 鼠标位置信息自定义样式设置 *&#x2F;\n  .custom-mouse-position &#123;\n     color:#ff2d51;\n     font-size: 16px;\n     font-family: &quot;微软雅黑&quot;;\n  &#125;\n&lt;&#x2F;style&gt;</code></pre>\n<a name=\"tjlvG\"></a><h4 id=\"2-4、比例尺控件\"><a href=\"#2-4、比例尺控件\" class=\"headerlink\" title=\"2-4、比例尺控件\"></a>2-4、比例尺控件</h4><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1646879217945-73a15bee-d6cd-4d26-81d9-2d983abb6959.png\" alt=\"image.png\"><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&#x2F;* 4、比例尺 *&#x2F;\nconst scaleLineControl &#x3D; new ol.control.ScaleLine(&#123;\n    &#x2F;* 设置比例尺单位,degrees,imperial,us,nautical,metric *&#x2F;\n    units:&#39;metric&#39;\n&#125;)\nmap.addControl(scaleLineControl)</code></pre>\n<a name=\"bXA0F\"></a><h4 id=\"2-5、鹰眼\"><a href=\"#2-5、鹰眼\" class=\"headerlink\" title=\"2-5、鹰眼\"></a>2-5、鹰眼</h4><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&lt;style&gt;\n  .ol-custom-overviewmap&#123;\n    &#x2F;* position: fixed; *&#x2F;\n    right:0;\n    bottom:0;\n    top:auto;\n    left:auto;\n  &#125;\n\n  .ol-overviewmap-box&#123;\n    border:1px solid #ff2d51;\n\n  &#125;\n&lt;&#x2F;style&gt;</code></pre>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const overviewMapControl &#x3D; new ol.control.OverviewMap(&#123;\n    &#x2F;* 鹰眼控件样式  *&#x2F;\n    className:&#39;ol-overviewmap ol-custom-overviewmap&#39;,\n    layers:[TianDiMap_vec, TianDiMap_cva],\n    &#x2F;* 鹰眼控件展开时功能按钮上的标识(网页的JS的字符编码) *&#x2F;\n    collapseLabel:&#39;\\u00BB&#39;,\n    &#x2F;* 鹰眼控件折叠时功能按钮上的标识(网页的JS的字符编码) *&#x2F;\n    label:&#39;\\u00AB&#39;,\n    &#x2F;* 初始为展开显示方式 *&#x2F;\n    collapsed:false,\n    view:new ol.View(&#123;\n        projection:&#39;EPSG:4326&#39;,\n        minZoom:8,\n        maxZoom:18\n    &#125;)\n&#125;)\nmap.addControl(overviewMapControl)</code></pre></li>\n</ul>\n","text":" 一、使用步骤地图控件主要包括： 导航（放大、缩小、复位） 滚动条 鼠标位置 比例尺 鹰眼- 实例化控件对象 - 调用方法加载到map对象中 二、演示2-1 、添加导航控件&#x2F;&#x2F;TIAN.js const key &#x3D; &#39;8a5c2b00e94b...","link":"","photos":[],"count_time":{"symbolsCount":"5.8k","symbolsTime":"5 mins."},"categories":[{"name":"GIS二次开发","slug":"GIS二次开发","count":17,"path":"api/categories/GIS二次开发.json"}],"tags":[{"name":"D1 地图显示","slug":"D1-地图显示","count":7,"path":"api/tags/D1-地图显示.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4\"><span class=\"toc-text\">一、使用步骤</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E6%BC%94%E7%A4%BA\"><span class=\"toc-text\">二、演示</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-1-%E3%80%81%E6%B7%BB%E5%8A%A0%E5%AF%BC%E8%88%AA%E6%8E%A7%E4%BB%B6\"><span class=\"toc-text\">2-1 、添加导航控件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-2%E3%80%81%E6%B7%BB%E5%8A%A0zoomslider\"><span class=\"toc-text\">2-2、添加zoomslider</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-3%E3%80%81%E9%BC%A0%E6%A0%87%E6%98%BE%E7%A4%BA%E5%9D%90%E6%A0%87%E5%80%BC\"><span class=\"toc-text\">2-3、鼠标显示坐标值</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-4%E3%80%81%E6%AF%94%E4%BE%8B%E5%B0%BA%E6%8E%A7%E4%BB%B6\"><span class=\"toc-text\">2-4、比例尺控件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-5%E3%80%81%E9%B9%B0%E7%9C%BC\"><span class=\"toc-text\">2-5、鹰眼</span></a></li></ol></li></ol>","author":{"name":"团子","slug":"blog-author","avatar":"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/QQ%E5%9B%BE%E7%89%8720221205215218.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"2-4、飞行视角","uid":"d7088e96041666084b9c7806e13f13ea","slug":"GIS二次开发2-4、飞行视角","date":"2022-12-07T15:32:52.385Z","updated":"2022-12-07T15:56:07.626Z","comments":true,"path":"api/articles/GIS二次开发2-4、飞行视角.json","keywords":null,"cover":null,"text":"map.getView().animate(&#123; center:[114,30], zoom:10, duration:1000 &#125;)","link":"","photos":[],"count_time":{"symbolsCount":94,"symbolsTime":"1 mins."},"categories":[{"name":"GIS二次开发","slug":"GIS二次开发","count":17,"path":"api/categories/GIS二次开发.json"}],"tags":[{"name":"D2 地图操作","slug":"D2-地图操作","count":4,"path":"api/tags/D2-地图操作.json"}],"author":{"name":"团子","slug":"blog-author","avatar":"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/QQ%E5%9B%BE%E7%89%8720221205215218.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}}},"next_post":{"title":"1-9、高德","uid":"43c8f20e1aa90e780e340dd6f9f8f7a2","slug":"GIS二次开发1-9、高德_new","date":"2022-12-07T15:26:29.368Z","updated":"2022-12-07T15:28:01.192Z","comments":true,"path":"api/articles/GIS二次开发1-9、高德_new.json","keywords":null,"cover":[],"text":" 1、地图显示 var gaodeMapLayer &#x3D; new ol.layer.Tile(&#123; title: &quot;高德地图&quot;, source: new ol.source.XYZ(&#123; url: &#39;http:&#x2F;&#x...","link":"","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[{"name":"GIS二次开发","slug":"GIS二次开发","count":17,"path":"api/categories/GIS二次开发.json"}],"tags":[{"name":"D1 地图显示","slug":"D1-地图显示","count":7,"path":"api/tags/D1-地图显示.json"}],"author":{"name":"团子","slug":"blog-author","avatar":"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/QQ%E5%9B%BE%E7%89%8720221205215218.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}}}}