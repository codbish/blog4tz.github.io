{"title":"32_todolist项目练习及讲解","uid":"b455dd2018d164911d1cb5d5e588f15b","slug":"day32_课堂笔记","date":"2022-12-01T14:15:54.316Z","updated":"2022-12-01T14:18:46.345Z","comments":true,"path":"api/articles/day32_课堂笔记.json","keywords":null,"cover":null,"content":"<h4 id=\"1-后端基本功能实现\"><a href=\"#1-后端基本功能实现\" class=\"headerlink\" title=\"1,后端基本功能实现\"></a>1,后端基本功能实现</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">环境的搭建\n\t1,生成api后端目录\n\t2,安装额外的nodemon,mysql,cors包\n\t3,集成nodemon,使用cors中间件\n\t4,创建todos.js路由模块\n\t5,导入数据库操作模块,编写具体的路由\n\n\n增删改查基本功能\n\t</code></pre>\n\n<h4 id=\"2-处理时间显示问题\"><a href=\"#2-处理时间显示问题\" class=\"headerlink\" title=\"2,处理时间显示问题\"></a>2,处理时间显示问题</h4><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const con &#x3D; mysql.createConnection(&#123;\n    host:&#39;localhost&#39;,\n    port:3306,\n    user:&#39;root&#39;,\n    password:&#39;1234&#39;,\n    database:&#39;db2022_01&#39;,\n    timezone:&#39;SYSTEM&#39; &#x2F;* 使用系统时区 *&#x2F;\n  &#125;)</code></pre>\n\n<h4 id=\"3-提取mysql的配置\"><a href=\"#3-提取mysql的配置\" class=\"headerlink\" title=\"3,提取mysql的配置\"></a>3,提取mysql的配置</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">目的\n\tmysql的配置经常会改变,方便后面操作\n\t还可以额外增加一个debug属性,将来根据这属性的值,来决定是否显示错误信息\n\t(在测试环境中,显示错误信息,在线上环境,不显示错误信息)\n做法\n\t1,在api下创建一个config文件夹,然后在创建一个index.js文件\n\t2,将mysql的配置信息剪切到index.js中,并导出\n\t3,在db文件夹下的index.js中导入mysql的配置信息并使用</code></pre>\n\n<h4 id=\"4-实现异常处理\"><a href=\"#4-实现异常处理\" class=\"headerlink\" title=\"4,实现异常处理\"></a>4,实现异常处理</h4><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">异常的两种处理方式\t\n\t1,throw(甩锅)\n\t\t抛出异常,一般是抛出一个异常对象(error)\n\t\t如果不进行处理的话,程序就会停止运行,后面的代码就无法执行\n\t\t\n\t2,try-catch(接盘)\n\t\t可以让程序在出了异常之后,后续代码能够正常执行,增强程序的健壮性\n\t\t\n\t\t语法\n\t\t\ttry&#123;\n\t\t\t\t可能会出现异常的代码\n\t\t\t&#125;catch(error)&#123;\n\t\t\t\t处理异常对象的代码\n\t\t\t&#125;\n\n做法\n\t&#x2F;&#x2F;导入调试的标记\n\tconst&#123;debug&#125; &#x3D; require(&#39;..&#x2F;config&#39;);\n\t\n\t\n\t  &#x2F;&#x2F;处理异常\n       try &#123;\n            const data &#x3D; await getAll(sql)\n            res.send(&#123;\n                    code:0,\n                    msg:&#39;获取所有代办成功&#39;,\n                    result:data\n            &#125;)\n       &#125; catch (error) &#123;\n            res.send(&#123;\n                code:100101,&#x2F;&#x2F;10代表第一个版本,01代表todolist项目,01代表第一个错误\n                msg:&#39;获取所有代办失败&#39;,\n                result: debug? error : &#39;&#39;\n            &#125;)\n       &#125;</code></pre>\n\n","feature":true,"text":"1,后端基本功能实现环境的搭建 1,生成api后端目录 2,安装额外的nodemon,mysql,cors包 3,集成nodemon,使用cors中间件 4,创建todos.js路由模块 5,导入数据库操作模块,编写具体的路由 增删改查基本功能 2,处理时间显示问题const c...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"项目","slug":"项目","count":3,"path":"api/categories/项目.json"}],"tags":[{"name":"Todolist","slug":"Todolist","count":3,"path":"api/tags/Todolist.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-%E5%90%8E%E7%AB%AF%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0\"><span class=\"toc-text\">1,后端基本功能实现</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-%E5%A4%84%E7%90%86%E6%97%B6%E9%97%B4%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">2,处理时间显示问题</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-%E6%8F%90%E5%8F%96mysql%E7%9A%84%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">3,提取mysql的配置</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4-%E5%AE%9E%E7%8E%B0%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86\"><span class=\"toc-text\">4,实现异常处理</span></a></li></ol>","author":{"name":"团子","slug":"blog-author","avatar":"https://www.helloimg.com/images/2022/12/01/Zu250T.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"综合案例-Todo小项目","uid":"0fc374236e6bc7b1f82600ab48634b27","slug":"综合案例-Todo小项目","date":"2022-12-01T14:18:16.930Z","updated":"2022-12-01T14:19:42.727Z","comments":true,"path":"api/articles/综合案例-Todo小项目.json","keywords":null,"cover":[],"text":"老板: 立项产品经理: 需求分析-&gt; 需求文档: 需求点(文字形式的描述) 原型图(图形的描述) UI设计师: 原型图 -&gt; 静态产品图技术经理: 技术分析 -&gt; 设计文档 流程图 数据库设计 接口设计 项目成员: 编码实现测试人员: 编码测试运维人员: 部署/...","link":"","photos":[],"count_time":{"symbolsCount":"20k","symbolsTime":"18 mins."},"categories":[{"name":"项目","slug":"项目","count":3,"path":"api/categories/项目.json"}],"tags":[{"name":"Todolist","slug":"Todolist","count":3,"path":"api/tags/Todolist.json"}],"author":{"name":"团子","slug":"blog-author","avatar":"https://www.helloimg.com/images/2022/12/01/Zu250T.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"31_用户管理系统前端增删改完成","uid":"106826aea6b9ab5ab35ab7da587e641c","slug":"day31_课堂笔记","date":"2022-12-01T14:14:07.773Z","updated":"2022-12-01T14:14:35.243Z","comments":true,"path":"api/articles/day31_课堂笔记.json","keywords":null,"cover":null,"text":"昨日回顾1,将数据库操作的代码命名为index.js,放在db文件夹下.方便管理 2,脚手架的使用及项目环境搭建(项目代码生成器) 安装 创建项目名,express --no-view backEnd 生成后端目录 安装包(自带的包,mysql cors,nodemon) 更改启...","link":"","photos":[],"count_time":{"symbolsCount":870,"symbolsTime":"1 mins."},"categories":[{"name":"后端","slug":"后端","count":14,"path":"api/categories/后端.json"}],"tags":[{"name":"express","slug":"express","count":6,"path":"api/tags/express.json"}],"author":{"name":"团子","slug":"blog-author","avatar":"https://www.helloimg.com/images/2022/12/01/Zu250T.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}}}}