{"title":"2-6、绘制点","uid":"25a162a40586b88cb7e42263fdb2e36b","slug":"GIS二次开发2-6、绘制点","date":"2022-12-07T16:11:30.032Z","updated":"2022-12-07T16:15:09.256Z","comments":true,"path":"api/articles/GIS二次开发2-6、绘制点.json","keywords":null,"cover":null,"content":"<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">new ol.geom.Point([114.30,30.50]) \n&#x2F;&#x2F;点要素的[lng,lat]经纬度用数组包裹</code></pre>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&lt;body&gt;\n    &lt;div id&#x3D;&quot;map_container&quot;&gt;\n        \n    &lt;&#x2F;div&gt;\n    &lt;script&gt;\n        &#x2F;* 一、渲染地图 *&#x2F;\n        const map &#x3D; new ol.Map(&#123;\n            target: &#39;map_container&#39;,\n            layers: [TianDiMap_vec, TianDiMap_cva],\n            view: new ol.View(&#123;\n                projection: &#39;EPSG:4326&#39;, &#x2F;&#x2F; 经纬度坐标系(默认是默卡托坐标系)\n                center: [114, 30],\n                zoom: 4\n            &#125;)\n        &#125;)\n        &#x2F;* 一、绘制点 *&#x2F;\n        &#x2F;* 1、创建要素类 *&#x2F;\n        const point &#x3D;  new ol.Feature(&#123;\n            &#x2F;* 创建点 *&#x2F;\n            geometry:new ol.geom.Point([114.4,30.6])\n        &#125;)\n        &#x2F;* 2、设置样式 *&#x2F;\n        point.setStyle(\n            new ol.style.Style(&#123;\n                &#x2F;&#x2F; 形状\n                image:new ol.style.Circle(&#123;\n                    radius:17,\n                    &#x2F;* 填充色 *&#x2F;\n                    fill:new ol.style.Fill(&#123;\n                        color:&#39;rgba(0,0,0,0.5)&#39;\n                    &#125;),\n                    &#x2F;* 描边 *&#x2F;\n                    stroke:new ol.style.Stroke(&#123;\n                        color:&#39;#ff2d51&#39;,\n                        width:2\n                    &#125;)\n                &#125;)\n            &#125;)\n        )\n        &#x2F;* 3、创建数据源    创建要素*&#x2F;\n        const source&#x3D; new ol.source.Vector(&#123;\n            features:[point]\n        &#125;)\n        &#x2F;* 4、创建图层 *&#x2F;\n        const vector &#x3D; new ol.layer.Vector(&#123;\n            source:source\n        &#125;)\n        &#x2F;* 5、将图层添加到地图 *&#x2F;\n        map.addLayer(vector)\n    &lt;&#x2F;script&gt;\n&lt;&#x2F;body&gt;</code></pre>\n<p><a name=\"bfnZR\"></a></p>\n<h3 id=\"1、设置样式的要素\"><a href=\"#1、设置样式的要素\" class=\"headerlink\" title=\"1、设置样式的要素\"></a>1、设置样式的要素</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const point &#x3D; new ol.Feature(&#123;\n    &#x2F;* 创建点 *&#x2F;\n    geometry: new ol.geom.Point([114.4, 30.6])\n&#125;)\nconst style &#x3D; new ol.style.Style(&#123;\n    &#x2F;&#x2F; 形状\n    image: new ol.style.Circle(&#123;\n        radius: 17,\n        &#x2F;* 填充色 *&#x2F;\n        fill: new ol.style.Fill(&#123;\n            color: &#39;rgba(0,0,0,0.5)&#39;\n        &#125;),\n        &#x2F;* 描边 *&#x2F;\n        stroke: new ol.style.Stroke(&#123;\n            color: &#39;#ff2d51&#39;,\n            width: 2\n        &#125;)\n    &#125;)\n&#125;)\npoint.setStyle(style);</code></pre>\n<p><a name=\"UTupM\"></a></p>\n<h3 id=\"2、给图层设置样式\"><a href=\"#2、给图层设置样式\" class=\"headerlink\" title=\"2、给图层设置样式\"></a>2、给图层设置样式</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const vector &#x3D; new ol.layer.Vector(&#123;\n    source: source,\n    &#x2F;&#x2F; style\n&#125;)\nvector.setStyle(style)</code></pre>\n<p><a name=\"BkTeu\"></a></p>\n<h3 id=\"3、设置多个点要素\"><a href=\"#3、设置多个点要素\" class=\"headerlink\" title=\"3、设置多个点要素\"></a>3、设置多个点要素</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&#x2F;* 1、创建要素类 *&#x2F;\nconst point &#x3D; new ol.Feature(&#123;\n    &#x2F;* 创建点 *&#x2F;\n    geometry: new ol.geom.Point([114.4, 30.6])\n&#125;)\nconst point2 &#x3D; new ol.Feature(&#123;\n    &#x2F;* 创建点 *&#x2F;\n    geometry: new ol.geom.Point([120, 40])\n&#125;)\n\n&#x2F;* 3、创建数据源    创建要素*&#x2F;\nconst source &#x3D; new ol.source.Vector(&#123;\n    features: [point,point2]\n&#125;)\nconst style &#x3D; new ol.style.Style(&#123;\n    &#x2F;&#x2F; 形状\n    image: new ol.style.Circle(&#123;\n        radius: 17,\n        &#x2F;* 填充色 *&#x2F;\n        fill: new ol.style.Fill(&#123;\n            color: &#39;rgba(0,0,0,0.5)&#39;\n        &#125;),\n        &#x2F;* 描边 *&#x2F;\n        stroke: new ol.style.Stroke(&#123;\n            color: &#39;#ff2d51&#39;,\n            width: 2\n        &#125;)\n    &#125;)\n&#125;)\n&#x2F;* 4、创建图层 *&#x2F;\nconst vector &#x3D; new ol.layer.Vector(&#123;\n    source: source,\n    &#x2F;&#x2F; style\n&#125;)\nvector.setStyle(style)\n&#x2F;* 5、将图层添加到地图 *&#x2F;\nmap.addLayer(vector)</code></pre>","text":"new ol.geom.Point([114.30,30.50]) &#x2F;&#x2F;点要素的[lng,lat]经纬度用数组包裹 &lt;body&gt; &lt;div id&#x3D;&quot;map_container&quot;&gt; &lt;&#x2F;div...","link":"","photos":[],"count_time":{"symbolsCount":"3.5k","symbolsTime":"3 mins."},"categories":[{"name":"GIS二次开发","slug":"GIS二次开发","count":29,"path":"api/categories/GIS二次开发.json"}],"tags":[{"name":"D2 矢量图形绘制","slug":"D2-矢量图形绘制","count":9,"path":"api/tags/D2-矢量图形绘制.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1%E3%80%81%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F%E7%9A%84%E8%A6%81%E7%B4%A0\"><span class=\"toc-text\">1、设置样式的要素</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2%E3%80%81%E7%BB%99%E5%9B%BE%E5%B1%82%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F\"><span class=\"toc-text\">2、给图层设置样式</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3%E3%80%81%E8%AE%BE%E7%BD%AE%E5%A4%9A%E4%B8%AA%E7%82%B9%E8%A6%81%E7%B4%A0\"><span class=\"toc-text\">3、设置多个点要素</span></a></li></ol>","author":{"name":"团子","slug":"blog-author","avatar":"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/QQ%E5%9B%BE%E7%89%8720221205215218.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"2-7、方法绘制点","uid":"3c66fc8387205566fa02272e8a129a0e","slug":"GIS二次开发2-7、方法绘制点_new","date":"2022-12-07T16:22:40.611Z","updated":"2022-12-07T16:22:40.611Z","comments":true,"path":"api/articles/GIS二次开发2-7、方法绘制点_new.json","keywords":null,"cover":[],"text":" Source addFeature 添加要素 addFeatures([]) 传递数据 Layer setSource 添加数据源 &lt;body&gt; &lt;div id&#x3D;&quot;map&quot;&gt; &lt;&#x2F;div&gt; &lt;sc...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"GIS二次开发","slug":"GIS二次开发","count":29,"path":"api/categories/GIS二次开发.json"}],"tags":[{"name":"D2 矢量图形绘制","slug":"D2-矢量图形绘制","count":9,"path":"api/tags/D2-矢量图形绘制.json"}],"author":{"name":"团子","slug":"blog-author","avatar":"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/QQ%E5%9B%BE%E7%89%8720221205215218.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}}},"next_post":{"title":"2-5、绘图原理","uid":"a1a5fd67e150a8c22e4b94ac57ce14fa","slug":"GIS二次开发2-5、绘图原理_new","date":"2022-12-07T16:09:46.760Z","updated":"2022-12-07T16:09:46.760Z","comments":true,"path":"api/articles/GIS二次开发2-5、绘图原理_new.json","keywords":null,"cover":[],"text":" 1、操作步骤 1、创建几何形状对象(点,线,圆,正方形,矩形,多边形) 2、创建要素对象：参考为 几何形状对象 3、设置要素对象的样式：样式对象 4、创建数据源：参数为要素对象 5、创建矢量图层：参数为数据源 6、将图层添加到地图中 2、常用类及关系Map类：地图（底图）Lay...","link":"","photos":[],"count_time":{"symbolsCount":441,"symbolsTime":"1 mins."},"categories":[{"name":"GIS二次开发","slug":"GIS二次开发","count":29,"path":"api/categories/GIS二次开发.json"}],"tags":[{"name":"D2 矢量图形绘制","slug":"D2-矢量图形绘制","count":9,"path":"api/tags/D2-矢量图形绘制.json"}],"author":{"name":"团子","slug":"blog-author","avatar":"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/QQ%E5%9B%BE%E7%89%8720221205215218.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}}}}