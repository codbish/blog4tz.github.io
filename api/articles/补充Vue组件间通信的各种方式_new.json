{"title":"扩展Vue组件间通信的各种方式","uid":"fed418f8bc6a1a6ecc0e727de5418b9a","slug":"补充Vue组件间通信的各种方式_new","date":"2022-12-02T13:23:47.095Z","updated":"2022-12-02T13:23:47.096Z","comments":true,"path":"api/articles/补充Vue组件间通信的各种方式_new.json","keywords":null,"cover":[],"content":"<p><a name=\"XyBNE\"></a></p>\n<h2 id=\"1-父子组件通信\"><a href=\"#1-父子组件通信\" class=\"headerlink\" title=\"1 父子组件通信\"></a>1 父子组件通信</h2><p><a name=\"SPYn5\"></a></p>\n<h3 id=\"1-父传子\"><a href=\"#1-父传子\" class=\"headerlink\" title=\"1) 父传子\"></a>1) 父传子</h3><ul>\n<li><p>在父组件模板中, 使用自定义属性</p>\n</li>\n<li><p>在子组件对象中, 使用props接收<br><a name=\"XvuOo\"></a></p>\n<h3 id=\"2-子传父\"><a href=\"#2-子传父\" class=\"headerlink\" title=\"2) 子传父\"></a>2) 子传父</h3></li>\n<li><p>在子组件中, 使用$emit触发自定义事件</p>\n</li>\n<li><p>在父组件中, 监听自定义事件<br><a name=\"YDAWw\"></a></p>\n<h2 id=\"2-亲兄弟组件通信\"><a href=\"#2-亲兄弟组件通信\" class=\"headerlink\" title=\"2 亲兄弟组件通信\"></a>2 亲兄弟组件通信</h2><p><a name=\"TVUM5\"></a></p>\n<h3 id=\"1-介绍\"><a href=\"#1-介绍\" class=\"headerlink\" title=\"1) 介绍\"></a>1) 介绍</h3><p>有共同父组件的兄弟叫做<strong>亲兄弟</strong><br /><br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1650331572648-87b6dc4b-a242-4ab9-9576-8310c03fdc66.png\" alt=\"image.png\"><br>:::warning</p>\n</li>\n</ul>\n<p><strong>需求</strong><br />老大子组件-&gt;老二子组件<br>:::</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>通过父组件转发</p></blockquote>\n<p>老大-&gt;老二<br />老大-&gt;父组件-&gt;老二<br><a name=\"LkmwW\"></a></p>\n<h3 id=\"2-实现\"><a href=\"#2-实现\" class=\"headerlink\" title=\"2) 实现\"></a>2) 实现</h3><p><a name=\"dWJLK\"></a></p>\n<h4 id=\"创建项目\"><a href=\"#创建项目\" class=\"headerlink\" title=\"创建项目\"></a>创建项目</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">vue create vuex-demo</code></pre>\n<p><a name=\"u7DGg\"></a></p>\n<h4 id=\"清理代码\"><a href=\"#清理代码\" class=\"headerlink\" title=\"清理代码\"></a>清理代码</h4><p>改造<code>App.vue</code></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;template&gt;\n  &lt;div id&#x3D;&quot;app&quot;&gt;&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nexport default &#123;\n  name: &#39;App&#39;,\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;style&gt;\n&lt;&#x2F;style&gt;</code></pre>\n<p><a name=\"x566D\"></a></p>\n<h4 id=\"创建子组件\"><a href=\"#创建子组件\" class=\"headerlink\" title=\"创建子组件\"></a>创建子组件</h4><p>在<code>components</code>目录下, 创建</p>\n<ul>\n<li>One.vue</li>\n<li>Two.vue<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>示例</p></blockquote>\n</li>\n</ul>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;template&gt;\n  &lt;div&gt;\n    老大子组件:\n    &lt;input type&#x3D;&quot;text&quot; &#x2F;&gt;\n    &lt;button&gt;发送&lt;&#x2F;button&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nexport default &#123;\n  name: &#39;One&#39;,\n&#125;\n&lt;&#x2F;script&gt;</code></pre>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;template&gt;\n  &lt;div&gt;老二子组件&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nexport default &#123;\n  name: &#39;Two&#39;,\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;style&gt;\n&lt;&#x2F;style&gt;</code></pre>\n<p><a name=\"UeRB2\"></a></p>\n<h4 id=\"挂载子组件\"><a href=\"#挂载子组件\" class=\"headerlink\" title=\"挂载子组件\"></a>挂载子组件</h4><p>在<code>App.vue</code>中</p>\n<ul>\n<li>导入</li>\n<li>挂载</li>\n<li>引用<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>示例</p></blockquote>\n</li>\n</ul>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;template&gt;\n  &lt;div id&#x3D;&quot;app&quot;&gt;\n    &lt;one&gt;&lt;&#x2F;one&gt;\n    &lt;two&gt;&lt;&#x2F;two&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nimport One from &#39;.&#x2F;components&#x2F;One.vue&#39;\nimport Two from &#39;.&#x2F;components&#x2F;Two.vue&#39;\n\nexport default &#123;\n  name: &#39;App&#39;,\n  components: &#123;\n    One,\n    Two,\n  &#125;,\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;style&gt;\n&lt;&#x2F;style&gt;\n</code></pre>\n<p><a name=\"ugLNv\"></a></p>\n<h4 id=\"老大提交自定义事件\"><a href=\"#老大提交自定义事件\" class=\"headerlink\" title=\"老大提交自定义事件\"></a>老大提交自定义事件</h4><p>改造<code>One.vue</code></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;template&gt;\n  &lt;div&gt;\n    老大子组件:\n    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;msg&quot; &#x2F;&gt;\n    &lt;button @click&#x3D;&quot;handleClick&quot;&gt;发送&lt;&#x2F;button&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nexport default &#123;\n  name: &#39;One&#39;,\n  data() &#123;\n    return &#123;\n      msg: &#39;&#39;,\n    &#125;\n  &#125;,\n  methods: &#123;\n    handleClick() &#123;\n      this.$emit(&#39;send&#39;, this.msg)\n    &#125;,\n  &#125;,\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;style&gt;\n&lt;&#x2F;style&gt;</code></pre>\n<p><a name=\"YMd9e\"></a></p>\n<h4 id=\"父组件监听自定义事件\"><a href=\"#父组件监听自定义事件\" class=\"headerlink\" title=\"父组件监听自定义事件\"></a>父组件监听自定义事件</h4><ul>\n<li>监听老大的自定义事件</li>\n<li>使用老二的自定义属性传参</li>\n</ul>\n<p>改造<code>App.vue</code></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;template&gt;\n  &lt;div id&#x3D;&quot;app&quot;&gt;\n    &lt;one @send&#x3D;&quot;handleSend&quot;&gt;&lt;&#x2F;one&gt;\n    &lt;two :msg&#x3D;&quot;msg&quot;&gt;&lt;&#x2F;two&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nimport One from &#39;.&#x2F;components&#x2F;One.vue&#39;\nimport Two from &#39;.&#x2F;components&#x2F;Two.vue&#39;\n\nexport default &#123;\n  name: &#39;App&#39;,\n  components: &#123;\n    One,\n    Two,\n  &#125;,\n  data() &#123;\n    return &#123;\n      msg: &#39;&#39;,\n    &#125;\n  &#125;,\n  methods: &#123;\n    handleSend(msg) &#123;\n      this.msg &#x3D; msg\n    &#125;,\n  &#125;,\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;style&gt;\n&lt;&#x2F;style&gt;\n</code></pre>\n<p><a name=\"ihFDp\"></a></p>\n<h4 id=\"老二接收参数\"><a href=\"#老二接收参数\" class=\"headerlink\" title=\"老二接收参数\"></a>老二接收参数</h4><p>改造<code>Two.vue</code></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;template&gt;\n  &lt;div&gt;老二子组件: &#123;&#123; msg &#125;&#125;&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nexport default &#123;\n  name: &#39;Two&#39;,\n  props: &#123;\n    msg: &#123;\n      type: String,\n    &#125;,\n  &#125;,\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;style&gt;\n&lt;&#x2F;style&gt;</code></pre>\n<p><a name=\"Vemw8\"></a></p>\n<h2 id=\"3-表兄弟组件通信\"><a href=\"#3-表兄弟组件通信\" class=\"headerlink\" title=\"3 表兄弟组件通信\"></a>3 表兄弟组件通信</h2><p><a name=\"wQXdv\"></a></p>\n<h3 id=\"1-简介\"><a href=\"#1-简介\" class=\"headerlink\" title=\"1) 简介\"></a>1) 简介</h3><p>:::warning<br><strong>需求</strong><br />老大-&gt;叔叔家的老二<br>:::<br><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1650334309325-450697b5-9d76-445c-b563-f4be53899792.png\" alt=\"image.png\"><br><br />按照Vue的设计<br />需要经历: 老大-&gt;父亲-&gt;爷爷-&gt;叔叔-&gt;叔叔家老二. 这个过程非常的复杂, 没有通用性</p>\n<p>为了解决层级结构复杂的情况, 我们需要使用<code>全局事件总线</code>模式</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>什么是全局事件总线</p></blockquote>\n<p>适合于没有明显关系的两个组件</p>\n<p>对于层级复杂的情况, 我们通常使用<code>全局事件总线</code>模式<br />定义一个全局的<strong>事件总线对象</strong><code>bus</code><br />所有的组件都通过一个统一的全局对象通信<br /><img src=\"https://blog4xk-1309331490.cos.ap-nanjing.myqcloud.com/markdown/1650335433150-8608a742-4687-47a6-841c-37aa227f8442.png\" alt=\"image.png\"><br><a name=\"oXtjp\"></a></p>\n<h3 id=\"2-实现-1\"><a href=\"#2-实现-1\" class=\"headerlink\" title=\"2) 实现\"></a>2) 实现</h3><p><a name=\"iQcvU\"></a></p>\n<h4 id=\"创建全局事件对象\"><a href=\"#创建全局事件对象\" class=\"headerlink\" title=\"创建全局事件对象\"></a>创建全局事件对象</h4><p>在src目录下, 创建<code>bus/index.js</code>文件</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">import Vue from &#39;vue&#39;\n\n&#x2F;&#x2F; 这个是一个Vue实例对象\nconst bus &#x3D; new Vue()\n\nexport default bus</code></pre>\n<p><a name=\"rWW05\"></a></p>\n<h4 id=\"数据提交给bus对象\"><a href=\"#数据提交给bus对象\" class=\"headerlink\" title=\"数据提交给bus对象\"></a>数据提交给bus对象</h4><pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;template&gt;\n  &lt;div&gt;\n    老大子组件:\n    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;msg&quot; &#x2F;&gt;\n    &lt;button @click&#x3D;&quot;handleClick&quot;&gt;发送&lt;&#x2F;button&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\n  import bus from &#39;..&#x2F;bus&#39;\n  \n  export default &#123;\n    name: &#39;One&#39;,\n    data() &#123;\n      return &#123;\n        msg: &#39;&#39;,\n      &#125;\n    &#125;,\n    methods: &#123;\n      handleClick() &#123;\n        &#x2F;&#x2F; 通过$emit提交, 向bus对象提交一个&#39;send&#39;事件\n        bus.$emit(&#39;send&#39;, this.msg)\n      &#125;,\n    &#125;,\n  &#125;\n&lt;&#x2F;script&gt;\n\n&lt;style&gt;\n&lt;&#x2F;style&gt;</code></pre>\n<p><a name=\"YUACT\"></a></p>\n<h4 id=\"通过bus对象监听\"><a href=\"#通过bus对象监听\" class=\"headerlink\" title=\"通过bus对象监听\"></a>通过bus对象监听</h4><pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;template&gt;\n  &lt;div&gt;老二子组件: &#123;&#123; msg &#125;&#125;&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nimport bus from &#39;..&#x2F;bus&#39;\n\nexport default &#123;\n  name: &#39;Two&#39;,\n  data() &#123;\n    return &#123;\n      msg: &#39;&#39;, &#x2F;&#x2F; msg: msg\n    &#125;\n  &#125;,\n  created() &#123;\n    bus.$on(&#39;send&#39;, (aaa) &#x3D;&gt; &#123;\n      console.log(aaa)\n      &#x2F;&#x2F; 使用箭头函数, this指向上一级作用域, 跟created中的this都指向Two组件对象\n      this.msg &#x3D; aaa\n    &#125;)\n  &#125;,\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;style&gt;\n&lt;&#x2F;style&gt;</code></pre>\n<p>上述这种方式: 也叫做<code>发布订阅模式</code><br><a name=\"GkLkW\"></a></p>\n<h2 id=\"4-祖孙组件通信\"><a href=\"#4-祖孙组件通信\" class=\"headerlink\" title=\"4 祖孙组件通信\"></a>4 祖孙组件通信</h2><p><a name=\"UMbF4\"></a></p>\n<h3 id=\"1-传静态数据\"><a href=\"#1-传静态数据\" class=\"headerlink\" title=\"1) 传静态数据\"></a>1) 传静态数据</h3><ol>\n<li>在祖先组件中, 通过<code>provide</code>选项提供数据</li>\n<li>在后代组件中, 通过<code>injection</code>选项注入数据<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;script&gt;\nexport default &#123;\n  name: &#39;App&#39;,\n  provide: &#123;\n  \tfoo: &#39;hello&#39;\n  &#125;,\n&#125;\n&lt;&#x2F;script&gt;</code></pre>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;script&gt;\nexport default &#123;\n  name: &#39;Son&#39;,\n  inject: [&#39;foo&#39;],\n&#125;\n&lt;&#x2F;script&gt;</code></pre>\n<a name=\"c5X6f\"></a><h3 id=\"2-传响应式数据\"><a href=\"#2-传响应式数据\" class=\"headerlink\" title=\"2) 传响应式数据\"></a>2) 传响应式数据</h3></li>\n</ol>\n<ul>\n<li><p>传入对象</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;script&gt;\nexport default &#123;\n  name: &#39;App&#39;,\n  provide() &#123;\n    return &#123;\n      &#x2F;&#x2F; provide设置为一个函数, 在该函数中,this指向vm实例\n      foo: this.obj\n    &#125;\n  &#125;,\n  data() &#123;\n    return &#123;\n      obj: &#123;\n        msg: &#39;&#39;\n      &#125;\n    &#125;\n  &#125;,\n&#125;\n&lt;&#x2F;script&gt;</code></pre>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;template&gt;\n  &lt;div&gt;\n    从app组件获取的数据: &#123;&#123;foo.msg&#125;&#125;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nexport default &#123;\n  name: &#39;Son&#39;,\n  inject: [&#39;foo&#39;],\n&#125;\n&lt;&#x2F;script&gt;</code></pre></li>\n<li><p>传入函数</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;script&gt;\nexport default &#123;\n  name: &#39;App&#39;,\n  provide() &#123;\n    return &#123;\n      &#x2F;&#x2F; provide设置为一个函数, 在该函数中,this指向vm实例\n      foo: () &#x3D;&gt; this.msg\n    &#125;\n  &#125;,\n  data() &#123;\n    return &#123;\n      msg: &#39;&#39;\n    &#125;\n  &#125;,\n&#125;\n&lt;&#x2F;script&gt;</code></pre>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;template&gt;\n  &lt;div&gt;\n    从app组件获取的数据: &#123;&#123;foo()&#125;&#125;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nexport default &#123;\n  name: &#39;Son&#39;,\n  inject: [&#39;foo&#39;],\n&#125;\n&lt;&#x2F;script&gt;</code></pre></li>\n</ul>\n","text":" 1 父子组件通信 1) 父传子 在父组件模板中, 使用自定义属性 在子组件对象中, 使用props接收 2) 子传父 在子组件中, 使用$emit触发自定义事件 在父组件中, 监听自定义事件 2 亲兄弟组件通信 1) 介绍有共同父组件的兄弟叫做亲兄弟:::warning 需求老...","link":"","photos":[],"count_time":{"symbolsCount":"6.2k","symbolsTime":"6 mins."},"categories":[{"name":"补充","slug":"补充","count":3,"path":"api/categories/补充.json"}],"tags":[{"name":"Vue组件间","slug":"Vue组件间","count":1,"path":"api/tags/Vue组件间.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1\"><span class=\"toc-text\">1 父子组件通信</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E7%88%B6%E4%BC%A0%E5%AD%90\"><span class=\"toc-text\">1) 父传子</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E5%AD%90%E4%BC%A0%E7%88%B6\"><span class=\"toc-text\">2) 子传父</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E4%BA%B2%E5%85%84%E5%BC%9F%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1\"><span class=\"toc-text\">2 亲兄弟组件通信</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">1) 介绍</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E5%AE%9E%E7%8E%B0\"><span class=\"toc-text\">2) 实现</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">创建项目</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%B8%85%E7%90%86%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">清理代码</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E5%AD%90%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">创建子组件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%8C%82%E8%BD%BD%E5%AD%90%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">挂载子组件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%80%81%E5%A4%A7%E6%8F%90%E4%BA%A4%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6\"><span class=\"toc-text\">老大提交自定义事件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%88%B6%E7%BB%84%E4%BB%B6%E7%9B%91%E5%90%AC%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6\"><span class=\"toc-text\">父组件监听自定义事件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%80%81%E4%BA%8C%E6%8E%A5%E6%94%B6%E5%8F%82%E6%95%B0\"><span class=\"toc-text\">老二接收参数</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-%E8%A1%A8%E5%85%84%E5%BC%9F%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1\"><span class=\"toc-text\">3 表兄弟组件通信</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">1) 简介</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E5%AE%9E%E7%8E%B0-1\"><span class=\"toc-text\">2) 实现</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1\"><span class=\"toc-text\">创建全局事件对象</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E6%8F%90%E4%BA%A4%E7%BB%99bus%E5%AF%B9%E8%B1%A1\"><span class=\"toc-text\">数据提交给bus对象</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%80%9A%E8%BF%87bus%E5%AF%B9%E8%B1%A1%E7%9B%91%E5%90%AC\"><span class=\"toc-text\">通过bus对象监听</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-%E7%A5%96%E5%AD%99%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1\"><span class=\"toc-text\">4 祖孙组件通信</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E4%BC%A0%E9%9D%99%E6%80%81%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">1) 传静态数据</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E4%BC%A0%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">2) 传响应式数据</span></a></li></ol></li></ol>","author":{"name":"团子","slug":"blog-author","avatar":"https://www.helloimg.com/images/2022/12/01/Zu250T.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"七. Vue-router","uid":"cecc2c1206bbeda1f590b8d01d982e2c","slug":"七. Vue-router_new","date":"2022-12-02T13:28:03.719Z","updated":"2022-12-02T13:28:03.720Z","comments":true,"path":"api/articles/七. Vue-router_new.json","keywords":null,"cover":[],"text":" 一. 简介 1 什么是Vue-router 是一个vue官方出品的管理组件切换的插件 管理组件切换 是一个插件2 为什么需要Vue-router1) SPA应用首先, 我们要了解SPA的概念 SPA(Single Page Application)单页应用 所有的内容都在同一个...","link":"","photos":[],"count_time":{"symbolsCount":"9.6k","symbolsTime":"9 mins."},"categories":[{"name":"Vue","slug":"Vue","count":17,"path":"api/categories/Vue.json"}],"tags":[{"name":"Vue2进阶","slug":"Vue2进阶","count":11,"path":"api/tags/Vue2进阶.json"}],"author":{"name":"团子","slug":"blog-author","avatar":"https://www.helloimg.com/images/2022/12/01/Zu250T.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}}},"next_post":{"title":"六. Vuex","uid":"2c2fb0d64b64f05eef1b605a8211929d","slug":"六. Vuex_new","date":"2022-12-02T12:06:41.322Z","updated":"2022-12-02T12:06:41.323Z","comments":true,"path":"api/articles/六. Vuex_new.json","keywords":null,"cover":[],"text":" 一. 概述 1 Vuex是什么Vuex是一个集中式的状态管理插件, 实现所有组件的状态(数据)共享, 也是组件间通信的一种方式 Vuex本质上是一个Vue的插件 主要实现所有组件的状态共享 2 什么时候用Vuex 一句话总结 官方推荐在中大型单页应用中使用 如何界定呢? 这里给...","link":"","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[{"name":"Vue","slug":"Vue","count":17,"path":"api/categories/Vue.json"}],"tags":[{"name":"Vue2进阶","slug":"Vue2进阶","count":11,"path":"api/tags/Vue2进阶.json"}],"author":{"name":"团子","slug":"blog-author","avatar":"https://www.helloimg.com/images/2022/12/01/Zu250T.jpg","link":"/","description":"处变不惊   安之若素","socials":{"github":"https://github.com/codbish","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/bguihiub","juejin":"","customs":{}}}}}